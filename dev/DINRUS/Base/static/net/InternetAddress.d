/*******************************************************************************

        copyright:      Copyright (c) 2004 Kris Bell. Все права защищены

        license:        BSD стиль: $(LICENSE)

        version:        Initial release: Aug 2006      
        
        author:         Kris

*******************************************************************************/

module net.InternetAddress;

private import net.device.Berkeley;

/*******************************************************************************


*******************************************************************************/

class АдресИнтернета : АдресИПв4
{
        /***********************************************************************

                useful for Datagrams

        ***********************************************************************/

        this(){}

        /***********************************************************************

                -порт- can be ПОРТ_ЛЮБОЙ
                -адр- is an ИП адрес or хост имя

        ***********************************************************************/

        this (ткст адр, цел порт = ПОРТ_ЛЮБОЙ)
        {
                foreach (цел i, сим c; адр)
                         if (c is ':')
                            {
                            порт = разбор (адр [i+1 .. $]);
                            адр = адр [0 .. i];
                            break;
                            }

                super (адр, cast(бкрат) порт);
        }

        /***********************************************************************


        ***********************************************************************/

        this (бцел адр, бкрат порт)
        {
                super (адр, порт);
        }


        /***********************************************************************


        ***********************************************************************/

        this (бкрат порт)
        {
                super (порт);
        }

        /**********************************************************************

        **********************************************************************/

        private static цел разбор (ткст s)
        {       
                цел число;

                foreach (c; s)
                         число = число * 10 + (c - '0');

                return число;
        }
}
